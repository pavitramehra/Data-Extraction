{% extends "base.html" %}


{% block content %}

<link rel="stylesheet" type="text/css" href="../static/font-awesome.min.css">

<script type="text/javascript"> 

    document.addEventListener('DOMContentLoaded', function() {

        var url = 'http://127.0.0.1:5000/awake_hit'; 
        fetch(url, { mode: 'no-cors'});
        setInterval(function(){ fetch(url, { mode: 'no-cors'});}, 9000)();

    }); 

    function validateForm() {
        var db_name = document.forms["connection_form"]["db_name"].value;
        var db_password = document.forms["connection_form"]["db_password"].value;
        var db_ip = document.forms["connection_form"]["db_ip"].value;
        var db_port = document.forms["connection_form"]["db_port"].value;
        var db_sid = document.forms["connection_form"]["db_sid"].value;
        if (db_name == "" || db_password=="" || db_ip=="" || db_port=="" || db_sid=="") {
            alert("All fields are mandatory!")
            return false;
        }
        else{
            url = "http://127.0.0.1:5000/connector/"+db_name+"/"+db_password+"/"+db_ip+"/"+db_port+"/"+db_sid;
            fetch(url)
            .then(
                function(response){
                    if(response.status==200)
                        alert("Ok!")
                }
            )
            .catch(
                function(error){
                    alert("Error occur!")
                }
            );
        }
    }

</script>


<app-root _nghost-c0="" ng-version="7.2.4">
    <div _ngcontent-c0="" class="wrapper">
        <div _ngcontent-c0="" class="login_page welcome-to-neutrino welcome-to-neutrino-core" id="loginApp">
            <div _ngcontent-c0="" class="sys-offers clearfix" id="loginpage">
                <div _ngcontent-c0="" class="block-inline block-c">
                    
                    
                    <div _ngcontent-c0="" class="login_box" id="login_box_id" style="margin: 20px;">
                        <div _ngcontent-c0="" class="cnt_b">

                            <!-- <form _ngcontent-c0="" class="ng-pristine ng-valid ng-touched" action = "http://localhost:5000/connector" method = "POST" name="connection_form" id="connection_form" onsubmit="return validateForm()"> -->
                                <form _ngcontent-c0="" class="ng-pristine ng-valid ng-touched" name="connection_form" id="connection_form" onsubmit="return validateForm()">

                                <div _ngcontent-c0="" class="formRow">Database Name</div>
                                <div _ngcontent-c0="" class="formRow">

                                    <div _ngcontent-c0="" class="input-group">
                                        <!-- <span _ngcontent-c0="" class="input-group-addon">
                                            <i _ngcontent-c0="" class="fa fa-database"></i>
                                            &nbsp;&nbsp;
                                        </span> -->
                                        <input _ngcontent-c0="" autocomplete="off" autofocus="autofocus" class="form-control col-sm-12 ng-pristine ng-valid ng-touched" id="db_name" name="db_name" type="text" value="">

                                    </div>
                                </div>


                                <br _ngcontent-c0="">

                                <div _ngcontent-c0="" class="formRow">Password</div>
                                <div _ngcontent-c0="" class="formRow">

                                    <div _ngcontent-c0="" class="input-group">
                                        <!-- <span _ngcontent-c0="" class="input-group-addon">
                                            <i _ngcontent-c0="" class="fa fa-lock"></i>
                                            &nbsp;&nbsp;
                                        </span> -->
                                        <input _ngcontent-c0="" autocomplete="off" autofocus="autofocus" class="form-control col-sm-12 ng-pristine ng-valid ng-touched" id="db_password" name="db_password" type="password" value="">

                                    </div>
                                </div>


                                <br _ngcontent-c0="">

                                <div _ngcontent-c0="" class="formRow">IP Address</div>
                                <div _ngcontent-c0="" class="formRow">

                                    <div _ngcontent-c0="" class="input-group">
                                        <!-- <span _ngcontent-c0="" class="input-group-addon">
                                            <i _ngcontent-c0="" class="fa fa-server"></i>
                                            &nbsp;&nbsp;
                                        </span> -->
                                        <input _ngcontent-c0="" autocomplete="off" autofocus="autofocus" class="form-control col-sm-12 ng-pristine ng-valid ng-touched" id="db_ip" name="db_ip" type="text" value="">

                                    </div>
                                </div>


                                <br _ngcontent-c0="">

                                <div _ngcontent-c0="" class="formRow">Database Port</div>
                                <div _ngcontent-c0="" class="formRow">

                                    <div _ngcontent-c0="" class="input-group">
                                        <!-- <span _ngcontent-c0="" class="input-group-addon">
                                            <i _ngcontent-c0="" class="fa fa-server"></i>
                                            &nbsp;&nbsp;
                                        </span> -->
                                        <input _ngcontent-c0="" autocomplete="off" autofocus="autofocus" class="form-control col-sm-12 ng-pristine ng-valid ng-touched" id="db_port" name="db_port" type="text" value="">

                                    </div>
                                </div>

                                <br _ngcontent-c0="">

                                <div _ngcontent-c0="" class="formRow">Database SID</div>
                                <div _ngcontent-c0="" class="formRow">

                                    <div _ngcontent-c0="" class="input-group">
                                        <!-- <span _ngcontent-c0="" class="input-group-addon">
                                            <i _ngcontent-c0="" class="fa fa-server"></i>
                                            &nbsp;&nbsp;
                                        </span> -->
                                        <input _ngcontent-c0="" autocomplete="off" autofocus="autofocus" class="form-control col-sm-12 ng-pristine ng-valid ng-touched" id="db_sid" name="db_sid" type="text" value="">

                                    </div>
                                </div>
                                
                                <div _ngcontent-c0="" class="btm_b">
                                    <button _ngcontent-c0="" class="btn btn-secondary" id="loginbutton" type="submit" value="Send"> Connect to DB </button>
                                </div>

                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</app-root> 

{% endblock %}
