function scrollWin_forDatePicker(b){var a=b.offset().top;b=$(window).scrollTop();a=$(window).height()-(a-b);170>a&&window.scrollTo(0,b+170)}
function sendVerCode(b){var a=$(b).parents("div.mob_verify_div:first");b=$(a).find(".phone_num_id").val();$.ajax({url:getContextPath()+"/app/PhoneNumber/sendVerCode/"+b,type:"POST",success:function(b){notifyStatusTags("Verification Code Sent.Expiration Date:"+b,"success");$(a).find(".sendVerCodeButton").hide();$(a).find(".enter_code_div").show()},error:function(){notifyStatusTags("Verification Code Not Sent.","failure")}})}
function submitVerCode(b){var a=$(b).parents("div.mob_verify_div:first");b=$(a).find(".phone_num_id").val();var c=$(a).find(".verification_code").val();$.ajax({url:getContextPath()+"/app/PhoneNumber/submitVerCode/"+b,data:{verCode:c},type:"POST",success:function(b){"true"==b?($(a).find(".mob_verify_div").hide(),$(a).find(".ver_icons").html('<i class="glyphicon glyphicon-ok"></i>'),notifyStatusTags("Number Verified Successfully.","success")):($(".verification_code").val(""),notifyStatusTags("Error in Matching Verification Code.",
"failure"))},error:function(){notifyStatusTags("Error in Verification.","failure")}})}function notifyStatusTags(b,a){"true"==showNotifications&&new PNotify({title:"",text:b,type:a,pnotify_animate_speed:fadeOutduration,opacity:1})}
$(document).ready(function(){function b(b,a,c){var e=$(b).val();$.ajax({type:"GET",url:c+"/"+a,dataType:"json",success:function(a){var c=$(b).find('option[value=""]').text(),c=c?c:"",h,g=0;if($.isArray(a)){var d;for(f in a[0])"id"!=f&&(d=f);for(f=0;f<a.length;f++)h=e&&a[f].id==e?h+('<option  selected="selected" value="'+a[f].id+'">'+a[f][d]+"</option>"):h+('<option   value="'+a[f].id+'">'+a[f][d]+"</option>"),g++}else for(var f in a)h=e&&f==e?h+('<option  selected="selected" value="'+f+'">'+a[f]+
"</option>"):h+('<option   value="'+f+'">'+a[f]+"</option>"),g++;if(1<=g||1==g&&!$(b).hasClass("required"))h='<option value="">'+c+"</option>"+h;0==g&&(h="");$(b).html(h);$(b).trigger("chosen:updated")},error:function(){$.sticky(label_cascade_select_error,{autoclose:5E3,position:"top-right",type:"st-error"})}})}$(document).ajaxComplete(function(){$("body").on("focus","input.validateDateFormat",function(){var a=$(this);scrollWin_forDatePicker(a)});$(".date-picker span.input-group-addon").on("click",function(){var a=
$(this);scrollWin_forDatePicker(a)})});$("body").on("mouseenter mouseleave",".neoSelectTooltip",function(){var a=$(this).attr("id"),b=$(this).attr("defaulttitle"),c=$("#"+a+" option:selected").text();$("#"+a+" option:selected").val()||(c=b);$(this).attr("data-original-title",c);$("#"+a+"-control-group").tooltip({placement:"right"})});$("body").on("click",".verifyPhone",function(){var a=$(this).parents("div.phone_tag_top:first");$(a).parent().children("div.mob_verify_div").toggle()});$(".phoneValid").attr("readonly",
!0);$(".ph-isd-code").attr("readonly",!0);$("body").on("change",".chosen_a,.chosen_b,.chosen-done",function(){1==$(this).parents("form").length&&!$(this).hasClass("cascade_tag")&&$(this).valid()&&$(this).parents(".form-group").find("span.help-block").remove()});$("body").on("click",".send_ver_code_btn",function(){sendVerCode(this)});$("body").on("click",".submit_ver_code_btn",function(){submitVerCode(this)});$("body").on("click",".filterForm_reset",function(){multiselect_deselectAll($(this).parents(".userSelectTag_container:first").find(".boot_multiselect"))});
$("body").on("click",".filterForm_submit",function(){var a=$(this),b=$(this).parents(".userSelectTag_container:first").find(".userSelectElement"),c=$(this).parents(".userSelectTag_container:first").find(".userSelectTag_filter_form select"),e=getContextPath()+"/app/userSelect/populateUsers";$.ajax({type:"POST",url:e,data:$(c).serialize(),success:function(c){var e=$(b).find('option:first[value=""]').text();if(null==e||""==e)e=$(b).hasClass("boot-multi_a")?"Select All Users":"";var g='<option value="">'+
e+"</option>";$.each(c,function(a,b){g+='<option value="'+b.id+'">'+b.username+"</option>"});$(b).html(g);$(b).hasClass("boot-multi_a")?($(b).multiselect("rebuild"),showHideCriteria(a),$(b).next().find("button:first").click()):($(b).trigger("chosen:updated"),showHideCriteria(a))}})});$(".boot_multiselect,.boot-multi_a").livequery(function(){var a=$(this).data("bm-height"),b=$(this).data("bm-width"),c=$(this).data("bm-btn-class"),e=$(this).data("bm-show-max"),d=$(this).data("bm-select-all-text"),k=
$(this).data("bm-disable-filter"),a=null==a?"custom-multiselect":"",b=null==b?"100%":b,c=null==c?"btn":"btn "+c,e=null==e?1:e,d=null==d?"Select All":d,k=null==k?!0:!1;$(this).multiselect({buttonText:function(a,b){if(0==a.length)return'None selected &nbsp;<b class="caret"></b>';if(a.length>e)return a.length+' selected &nbsp;<b class="caret"></b>';var c="";a.each(function(){c+=$(this).text()+" ,"});return c.substr(0,c.length-e-1)+'&nbsp;<b class="caret"></b>'},buttonClass:c,maxHeight:200,includeSelectAllOption:k,
selectAllValue:"",selectAllText:d,enableFiltering:k,filterPlaceholder:"Search",buttonWidth:b,buttonContainer:'<div class="btn-group reset-m col-sm-10 '+a+'" />'})});$("[rel=tooltip]").tooltip({placement:"right"});$.validator.addMethod("validateMinimumYear",function(a,b){if(""!=a){var c=$(b).parents(".datepicker_div:first").data("real-format"),c=Date.parseString(a,c),e=$(b).parents(".datepicker_div:first").data("minimum-year"),e=parseInt(e,10);return parseInt(c.getFullYear(),10)<e?!1:!0}return!0},label_date_minimum_year_error_msg+
" "+minimumYearForDate);$.validator.addMethod("validateDateFormat",function(a,b){if(""!=a){var c=$(b).parents(".datepicker_div:first").data("real-format"),e=$(b).parents(".datepicker_div:first").data("disable-past"),d=$(b).parents(".datepicker_div:first").data("disable-future");return Date.isValid(a,c)?(c=Date.parseString(a,c),e&&d?c.equalsIgnoreTime(new Date):e?c.isAfter((new Date).add("d",-1)):d?c.isBefore(new Date):!0):!1}return!0},label_invalidDateMessage);$(".date").livequery(function(){var a=
$(this),b=1==a.data("disable-past")?new Date:null,c=1==a.data("disable-future")?new Date:null;null!=b&&b.add("d",-1);if(1==a.data("past-date")){var e=new Date;e.add("y",-30);var d=a.data("real-format"),e=e.format(d);a.data({date:e})}""!=a.data("open-window-before")&&(d=a.data("open-window-before"),e=new Date,e.add("y",-d),d=a.data("real-format"),e=e.format(d),a.data({date:e}));""!=a.data("open-window-after")&&(d=a.data("open-window-after"),e=new Date,e.add("y",d),d=a.data("real-format"),e=e.format(d),
a.data({date:e}));a.data("block-calander")||(a.datepicker({autoclose:!0,startDate:b,endDate:c,forceParse:!1}),a.datepicker("setStartDate",b),a.datepicker("setEndDate",c))});$(".time").livequery(function(){$(this).attr("readonly")||(""!=$(this).val()?$(this).timepicker({minuteStep:1,disableFocus:!0,defaultTime:$(this).val()}):($(this).timepicker({minuteStep:1,disableFocus:!0}),$(this).val("")))});$(".inputmask").livequery(function(a){a=$(this).attr("data-mask");""!=a&&a?$(this).inputmask({mask:$(this).attr("data-mask")}):
($(this).removeAttr("data-mask"),$(this).removeClass("inputmask"))});$("[rel=tooltip]").livequery(function(){$(this).tooltip({placement:"right",animation:!0,delay:{show:250,hide:250}})});$(":input").livequery(function(){$(this).tooltip({placement:"right",trigger:"focus",animation:!0,delay:{show:250,hide:100}})});$(".chosen_a").livequery(function(){$(this).chosen({allow_single_deselect:!0})});$(".chosen_b").livequery(function(){$(this).chosen()});$(".uni_style").livequery(function(){$(this).uniform()});
$(document).ready(function(){$("body").on("keyup",".neutrino_textarea",function(){var a=$(this).attr("id"),b=$(this).attr("maxLength"),c=$(this).val().length,b=b-c;$("#instDesc_count1_"+a).html(b)})});$("textarea").livequery(function(){var a=$(this).attr("id"),b=$(this).attr("maxLength"),c=$(this).val().length,b=b-c;$("#instDesc_count1_"+a).html(b)});var a=$("form").find(":text").first(),c=$(".chosen-single").first(),d=$("form").find("select").first();c&&a&&c.offset()<a.offset()&&(a=c);d&&a&&d.offset()<
a.offset()&&(a=d);a&&a.focus();$(".cascade-select .chosen_a.required").on("change",function(a,b){$(this).valid()});$(document).on("change","select.cascade_tag",function(){var a=$(this).attr("id"),c=$(this).val();c?$("select.cascade_tag").each(function(){var d=$(this).attr("id"),e=$(this).attr("parentId");a==e&&(e=$(this).attr("popurl"),b("#"+d,c,e))}):$("select.cascade_tag").each(function(){var b=$(this).attr("id"),c=$(this).attr("parentId");a==c&&((c=$("#"+b).find('option[value=""]').text())?$("#"+
b).html('<option value="">'+c+"</option>"):$("#"+b).html(null),$("#"+b).trigger("chosen:updated"),$("#"+b).change())})});multiselect.init()});
multiselect={init:function(){$(".userSelectTag_container:first").find(".userSelect_selectedUsers").tooltip();var b=$("select.searchable-form").attr("disabled");"undefined"!=b&&"disabled"==b?$(".searchable-form").each(function(a){$(this).multiSelect({selectableHeader:'<input  class="form-control " type="text" id="multi_search'+a+'" autocomplete="off" placeholder="search" disabled="disabled" /><a href="javascript:void(0)" id="sForm_select" class="btn sForm_select" disabled="disabled">Select All</a>',selectionHeader:'<input  class="form-control " type="text" id="multi_search_deselect'+
a+'"autocomplete="off" placeholder="search" disabled="disabled" /><a href="javascript:void(0)" id="sForm_deselect" class="btn sForm_deselect" disabled="disabled">Deselect All</a>'})}):$(".searchable-form").each(function(a){$(this).multiSelect({selectableHeader:'<input  class="form-control " type="text" id="multi_search'+a+'"autocomplete="off" placeholder="search" /><a href="javascript:void(0)" id="sForm_select" class="btn sForm_select">Select All</a>',selectionHeader:'<input  class="form-control " type="text" id="multi_search_deselect'+a+'"autocomplete="off" placeholder="search" /><a href="javascript:void(0)" id="sForm_deselect" class="btn sForm_deselect">Deselect All</a>'})});
var a=0;$("select").each(function(b){b=$(this).attr("multiple");var d=$(this).parents().find(".searchable-form").attr("disabled");if("multiple"==b){var l=$(this).attr("id");$("input#multi_search"+a).quicksearch("#ms-"+l+" .ms-selectable li");$("body").on("click","#multi_search_deselect"+a++,function(){$(this).quicksearch("#ms-"+l+" .ms-selection li")})}d||($(".sForm_deselect").on("click",function(){$(this).parents(".form-group").find(".searchable-form").multiSelect("deselect_all");return!1}),$(".sForm_select").on("click",
function(){$(this).parents(".form-group").find(".searchable-form").multiSelect("select_all");return!1}));$(".searchable-form").livequery(function(){$(this).multiSelect()})})}};function multiselect_deselectAll(b){$("option",b).each(function(a){b.multiselect("deselect",$(this).val())})}function showHideCriteria(b){$(b).parents(".userSelectTag_container:first").find(".userSelectTag_filter").toggle();$(b).parents(".userSelectTag_container:first").find(".userSelect_selectedUsers").hide()}
function showSelectedUsers(b){var a="",c=1;$(b).parents(".userSelectTag_container:first").find(".userSelect_selectedUsers").empty();$(b).parents(".userSelectTag_container:first").find(".userSelectTag_filter").hide();a+="<table><tr>";$(b).parents(".userSelectTag_container:first").find("#mail_recipients option:selected").each(function(){"Select All Users"!=$(this).text()&&(a=a+"<td><i class='glyphicon glyphicon-user'></i><span class='label label-info'>"+$(this).text()+"</span></td>",0==c%3&&(a+="</tr><tr>"));c++});
a+="</tr></table>";$(b).parents(".userSelectTag_container:first").find(".userSelect_selectedUsers").append(a);$(b).parents(".userSelectTag_container:first").find(".userSelect_selectedUsers").css("background-color","");$(b).parents(".userSelectTag_container:first").find(".userSelect_selectedUsers").toggle()}var GLOBAL={};
$(document).ready(function(){$(".tatTimer_container").each(function(){var b=$(this).data("context-key");GLOBAL[b]={};GLOBAL[b].tagAttributes={};var a=$(this).data("timer-disabled"),c=$(this).data("config-url"),d=$(this).data("config-json");GLOBAL[b].tagAttributes.labelMessage=$(this).data("label-message");GLOBAL[b].tagAttributes.labelMessageForExpired=$(this).data("label-message-expired");$(this).data("make-sticky");GLOBAL[b].tagAttributes.taskDueDateDisplayDivId=$(this).data("date-divid");GLOBAL[b].tagAttributes.targetHandlerTimer=
$(this).find(".tatTimer_handlerTimer");GLOBAL[b].tagAttributes.targetMainTimer=$(this).find(".tatTimer_mainTimer");GLOBAL[b].tagAttributes.dateLabel=$(this).data("date-label");a||null==c&&""==c?a||null==d||configureAndStartTimer(d,b):stratTatCountDownTimer(c,b)})});function stratTatCountDownTimer(b,a){$.ajax({type:"GET",url:getContextPath()+b,dataType:"json",success:function(b){configureAndStartTimer(b,a)}})}
function configureAndStartTimer(b,a){GLOBAL[a].timerColors=b.lifeCycleColorCodes;var c=b.lifeCyclePhasePercentages[0],d=b.lifeCyclePhasePercentages[1];GLOBAL[a].totalResponseTime=b.taskTotalTime/1E3;GLOBAL[a].greenEnd=GLOBAL[a].totalResponseTime-GLOBAL[a].totalResponseTime*c/100;GLOBAL[a].yellowEnd=GLOBAL[a].greenEnd-GLOBAL[a].totalResponseTime*d/100;GLOBAL[a].timerPlayer=b.playPausePoints;GLOBAL[a].running=b.running;GLOBAL[a].PLAYER_INDEX=1;GLOBAL[a].currentTimerColor="#FFFFFF";d=b.taskRemainingTime;
c=GLOBAL[a];assignColorToTimer(b.taskRemainingTime/1E3,c);0<=d?d={until:new Date((new Date).valueOf()+d),layout:'<span class="rem_time">'+c.tagAttributes.labelMessage+'&nbsp;:&nbsp;</span><span class="tat_time">{hnn}{sep}{mnn}{sep}{snn}</span><p class="reset-m-b m-t-8"><span class="tat_desc_up">{desc}</span></p>',description:"HH&nbsp;&nbsp;&nbsp;&nbsp;MM&nbsp;&nbsp;&nbsp;&nbsp;SS",onExpiry:countDownExpired,onTick:handleTimerColor,alwaysExpire:!0}:($(".hideOnTatNegative").hide(),$(".showOnTatNegative").show(),
$(c.tagAttributes.targetMainTimer).css("background-color",c.timerColors[3]),d={since:new Date((new Date).valueOf()+d),layout:'<span class="rem_time">'+c.tagAttributes.labelMessageForExpired+'&nbsp;:&nbsp;</span><span class="tat_time">{hnn}{sep}{mnn}{sep}{snn}</span><p class="reset-m-b m-t-8"><span class="tat_desc_up">{desc}</span></p>',description:"HH&nbsp;&nbsp;&nbsp;&nbsp;MM&nbsp;&nbsp;&nbsp;&nbsp;SS"});$(c.tagAttributes.targetMainTimer).countdown(d);c.running||($(c.tagAttributes.targetMainTimer).countdown("pause"),
$(c.tagAttributes.targetMainTimer).css("color",c.timerColors[4]));startTimerHandler(c);""!=c.tagAttributes.taskDueDateDisplayDivId&&(d='<span id="due_date_user_label"><strong>'+c.tagAttributes.dateLabel+":</strong><small>"+b.taskDueDate+"</small></span>",$("#"+c.tagAttributes.taskDueDateDisplayDivId).html(d))}function handleTimerColor(b){var a=$(this).data("context-key");assignColorToTimer($.countdown.periodsToSeconds(b),GLOBAL[a])}
function assignColorToTimer(b,a){b<=a.totalResponseTime&&b>=a.greenEnd+1&&a.currentTimerColor!=a.timerColors[0]&&(a.currentTimerColor=a.timerColors[0],$(a.tagAttributes.targetMainTimer).css("background-color",a.timerColors[0]));b<=a.greenEnd&&b>=a.yellowEnd+1&&a.currentTimerColor!=a.timerColors[1]&&(a.currentTimerColor!=a.timerColors[1],$(a.tagAttributes.targetMainTimer).css("background-color",a.timerColors[1]));b<=a.yellowEnd&&0<=b&&a.currentTimerColor!=a.timerColors[2]&&(a.currentTimerColor!=a.timerColors[2],
$(a.tagAttributes.targetMainTimer).css("background-color",a.timerColors[2]))}
function countDownExpired(){$(".hideOnTatNegative").hide();$(".showOnTatNegative").show();var b=$(this).attr("id"),a=$(this).data("context-key");$(this).css("background-color",GLOBAL[a].timerColors[3]);a={since:new Date,layout:'<span class="rem_time">'+GLOBAL[a].tagAttributes.labelMessageForExpired+'&nbsp;:&nbsp;</span><span class="tat_time">{hnn}{sep}{mnn}{sep}{snn}</span><p class="reset-m-b m-t-8"><span class="tat_desc_up">{desc}</span></p>',onExpiry:null,onTick:null,alwaysExpire:!1};$("#"+b).countdown("option",
a)}function startTimerHandler(b){$(b.tagAttributes.targetHandlerTimer).countdown({until:new Date(b.timerPlayer[0]),layout:'<span class="tat_time">TAT:&nbsp;{hnn}{sep}{mnn}{sep}{snn}</span><p class="reset-m-b m-t-8"><span class="tat_desc_up">{desc}</span></p>',onExpiry:play,alwaysExpire:!0})}
function play(){var b=$(this).data("context-key"),b=GLOBAL[b];b.running?($(b.tagAttributes.targetMainTimer).css("color",b.timerColors[4]),$(b.tagAttributes.targetMainTimer).countdown("pause"),b.running=!1):($(b.tagAttributes.targetMainTimer).css("color","#000000"),$(b.tagAttributes.targetMainTimer).countdown("resume"),b.running=!0);b.timerPlayer.length>b.PLAYER_INDEX&&($(b.tagAttributes.targetHandlerTimer).countdown("option","until",new Date(b.timerPlayer[b.PLAYER_INDEX])),b.PLAYER_INDEX+=1)}
function formatCurrency(b,a,c){a?formMoneyLabelValue(b):formMoneyValue(b);var d=$("#hid_"+b).val();d&&$.ajax({url:getContextPath()+"/app/money/formatCurrency",data:{amount:d,acceptNegativeAttr:c},success:function(c){a?($("#"+b).val(c),formMoneyLabelValue(b)):($("#amount_"+b).val(c),$("#"+b+"-control-group").removeClass("success"),formMoneyValue(b));$("#hid_"+b).change();$("#amount_"+b).focusin().focusout()}})}
function formMoneyValue(b){var a=$("#amount_"+b).val(),c=$("#listMoney_"+b+" option:selected").data("code");""!=a&&""!=c?(a=c+"~"+a,$("#hid_"+b).val(a)):$("#hid_"+b).val("")}function formMoneyLabelValue(b){var a=$("#"+b).val(),c=$("#amountCurrency_"+b).val();""!=a&&""!=c?(a=c+"~"+a,$("#hid_"+b).val(a)):$("#hid_"+b).val("")}
$(".validEmail").livequery("change",function(){var b=$(this).val(),a=$(this).attr("id");b&&$.ajax({url:getContextPath()+"/app/emailApproval/validateEmailAddress",type:"POST",async:!0,data:{emailAddress:b},success:function(b){"success"==b?($("#serverValidationDiv-"+a).addClass("hide"),$("#serverValidationDiv-"+a).removeClass("error"),$("#serverValidationDiv-"+a).find("p").removeClass("text-danger"),$("#"+a).removeClass("invalidEmail")):($("#serverValidationDiv-"+a).removeClass("hide"),$("#serverValidationDiv-"+
a).addClass("error"),$("#"+a).addClass("invalidEmail"),$("#serverValidationDiv-"+a).find("p").addClass("text-danger"),$("#serverValidationDiv-"+a).find("p").html("Invalid Email Id"))},error:function(b,d,l){$("#serverValidationDiv-"+a).removeClass("hide");$("#serverValidationDiv-"+a).addClass("error");$("#"+a).addClass("invalidEmail");$("#serverValidationDiv-"+a).find("p").addClass("text-danger");$("#serverValidationDiv-"+a).find("p").html("Error in validating E-mail Id")}})});
function callMe(b){var a=$(b).parents(".uscri_businessPartner:first").find("select");$(b).is(":checked")?a.multiselect("select",$(b).val()):a.multiselect("deselect",$(b).val());a.multiselect("updateButtonText");$(b).parents(".uscri_businessPartner:first").find("input.multiselect-search").val("")}
$(document).ready(function(){$("body").on("click",".uscri_businessPartner .multiselect-container",function(b){b.stopPropagation()});$(".uscri_businessPartner .multiselect-container").prepend('<div class="input-group" style="padding:3px;"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input  class="form-control multiselect-search" type="text" placeholder="Type to serach"></div>');$("body").on("click",".uscri_businessPartner .multiselect-search",function(b){b.stopPropagation()}).on("keyup",".uscri_businessPartner .multiselect-search",
function(){var b=$(this).parents(".uscri_businessPartner:first").find("select"),a=$(this).val(),c=$(this).parents(".multiselect-container:first").find("ul"),d=getContextPath()+"/app/userSelect/getBusinessParters/"+a;$(this).parents(".uscri_businessPartner:first").hasClass("orgBranch")&&(d=getContextPath()+"/app/userSelect/getBranches/"+a);0<a.length&&$.ajax({type:"GET",url:d,success:function(a){var d="",g="";for(key in a)d+='<li><a href="javascript:void(0);" style="padding: 0px;"><label style="margin:0;padding:3px 20px 3px 20px;height:100%;cursor:pointer;"><input onChange="callMe(this)" data-original-title="" value="'+
key+'" style="margin-bottom:5px;" type="checkbox">'+a[key]+"</label></a></li>",g+='<option   value="'+key+'">'+a[key]+"</option>";b.html(g);c.empty();c.append(d);b.multiselect("updateButtonText")},error:function(a){new PNotify({title:failure,text:"Error retrieving business partners",type:error,pnotify_animate_speed:fadeOutduration,opacity:.8})}})})});